<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Amer Maharaja College | Home</title>
    <link
      rel="stylesheet"
      href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css"
    />
    <link
      rel="stylesheet"
      href="https://cdn.jsdelivr.net/npm/swiper@11/swiper-bundle.min.css"
    />
    <style id="dynamic-theme"></style>
    <style>
      @import url("https://fonts.googleapis.com/css2?family=Libre+Baskerville:ital,wght@0,400;0,700;1,400&display=swap");
      :root {
        --primary: #002d62;
        --secondary: #d4af37;
        --tickerBg: #e31837;
        /* NEW: 3D Depth Variable */
        --nav-shadow: 0 10px 30px rgba(0, 0, 0, 0.3);
      }

      body {
        font-family: Arial, sans-serif;
        margin: 0;
        background: #f4f4f4;
        color: #333;
        overflow-x: hidden;
      }

      /* 1. HEADER: Added subtle shadow for 3D lift */
      .top-header {
        background: linear-gradient(
          145deg,
          #ffffff 0%,
          #f0f4f8 50%,
          #e2e8f0 100%
        ) !important;
        padding: 10px 5% !important;
        display: flex !important;
        flex-direction: row !important; /* Force items into a horizontal line */
        flex-wrap: nowrap !important; /* Prevent the title from going below the logo */
        align-items: center !important;
        gap: 15px; /* Reduced gap to save horizontal space */
        border-bottom: 5px solid #8a6d3b;
        box-shadow: 0 4px 15px rgba(0, 0, 0, 0.08);
        position: relative;
        z-index: 1001;
      }

      .logo-box img {
        height: 85px !important;
        /* filter: drop-shadow(2px 4px 8px rgba(0, 0, 0, 0.2)); */
        transition: transform 0.3s ease;
      }
      .logo-box img:hover {
        transform: scale(1.05); /* Interactive smart feel */
      }

      .title-box {
        flex-grow: 1;
        min-width: 0; /* Important fix for Flexbox text wrapping */
        white-space: nowrap; /* Forces the text to stay on one line */
        transition: transform 0.3s cubic-bezier(0.175, 0.885, 0.32, 1.275);
      }

      .title-box h1 {
        font-family: "Libre Baskerville", serif;
        font-size: clamp(
          1.2rem,
          4vw,
          2.1rem
        ) !important; /* Smart font sizing: shrinks on small screens */
        font-style: italic;
        margin: 0px 0px 0px 0px !important;
        letter-spacing: -0.5px;
        padding-left: 10px;
        /* Create the Gradient for the Shine */
        background: linear-gradient(
          to right,
          #002d62 20%,
          #0056b3 40%,
          #ffffff 50%,
          #0056b3 60%,
          #002d62 80%
        );
        background-size: 200% auto; /* Stretch it to allow movement */
        -webkit-background-clip: text;
        -webkit-text-fill-color: transparent;

        /* The Shine Animation */
        animation: shine 4s linear infinite;
        transition: transform 0.3s cubic-bezier(0.175, 0.885, 0.32, 1.275);
      }

      /* 2. Shine Keyframes */
      @keyframes shine {
        to {
          background-position: 200% center;
        }
      }

      .title-box {
        transition: transform 0.3s cubic-bezier(0.175, 0.885, 0.32, 1.275);
        cursor: default;
        display: inline-block;
      }

      .title-box p {
        font-family: "Libre Baskerville", serif;
        margin: 2px 0 0 0 !important;
        padding-left: 8px;
        padding-top: 10px;
        background: linear-gradient(
          135deg,
          #8a6d3b 0%,
          #b38728 50%,
          #8a6d3b 100%
        );
        -webkit-background-clip: text;
        -webkit-text-fill-color: transparent;
        font-weight: 700 !important;
        font-size: 1rem !important;
        display: inline-block;
        filter: drop-shadow(0px 1px 1px rgba(0, 0, 0, 0.1));
      }

      /* 2. NAVIGATION: Added Gradient and 3D Shadow */
      nav {
        /* Subtle gradient for depth */
        background: linear-gradient(to bottom, var(--primary), #001a3a);
        position: sticky;
        top: 0;
        z-index: 1000;
        display: flex;
        align-items: center;
        justify-content: space-between;
        padding: 0 5%;
        /* This shadow creates the 3D 'floating' effect */
        box-shadow: var(--nav-shadow);
      }

      .nav-links {
        list-style: none;
        display: flex;
        margin: 0;
        padding: 0;
      }

      .nav-links li {
        position: relative;
      }

      /* 3. MENU LINKS: Added hover transition */
      .nav-links a {
        color: #fff !important;
        padding: 18px 20px;
        display: block;
        text-decoration: none;
        font-size: 0.85rem;
        font-weight: 600;
        text-transform: uppercase;
        transition: all 0.3s ease;
      }

      .nav-links a:hover {
        background: rgba(255, 255, 255, 0.1);
        color: var(--secondary) !important;
        /* Lift text slightly on hover */
        transform: translateY(-1px);
      }

      /* DROPDOWNS (Visibility Fix) */
      .dropdown-content {
        display: none;
        position: absolute;
        top: 100%;
        left: 0;
        background: #fff;
        min-width: 220px;
        box-shadow: 0 8px 16px rgba(0, 0, 0, 0.2);
      }
      .dropdown-content a {
        color: #333 !important;
        padding: 12px 15px !important;
        text-transform: none !important;
        border-bottom: 1px solid #eee;
        font-weight: 500;
      }
      .dropdown-content a:hover {
        background: #f1f1f1;
      }
      .nav-links li:hover .dropdown-content {
        display: block;
      }

      /* TICKER */
      .ticker-wrap {
        background: linear-gradient(
          90deg,
          #e31837,
          #b2132b
        ) !important; /* Gradient for depth */
        color: white;
        padding: 12px 0;
        overflow: hidden;
        font-weight: bold;
        box-shadow: inset 0 2px 5px rgba(0, 0, 0, 0.3),
          0 4px 10px rgba(0, 0, 0, 0.1); /* 3D Inner shadow */
        border-bottom: 2px solid rgba(255, 255, 255, 0.1);
      }

      .ticker {
        white-space: nowrap;
        display: inline-block;
        animation: marquee 30s linear infinite;
        text-shadow: 1px 1px 2px rgba(0, 0, 0, 0.3); /* Makes text pop */
      }

      @keyframes marquee {
        0% {
          transform: translateX(100%);
        }
        100% {
          transform: translateX(-100%);
        }
      }

      /* CAROUSEL */
      .main-carousel {
        width: 100%;
        height: 400px;
        background: #000;
        position: relative;
      }
      .main-carousel .swiper-slide img {
        width: 100%;
        height: 100%;
        object-fit: cover;
      }

      /* NOTICE BOARD (SSU STYLE) */
      .notice-container {
        height: 400px; /* Increased height to match principal image area */
        overflow: hidden;
        position: relative;
        border: 1px solid #ddd;
        background: #fff;
        margin-top: 10px;
      }
      .notice-scroll {
        position: absolute;
        width: 100%;
        animation: scrollUp 20s linear infinite;
      }
      .notice-scroll:hover {
        animation-play-state: paused;
      }
      @keyframes scrollUp {
        0% {
          top: 100%;
        }
        100% {
          top: -120%;
        }
      }
      .new-badge {
        background: #ff0000;
        color: white;
        font-size: 0.65rem;
        padding: 2px 6px;
        border-radius: 3px;
        margin-left: 5px;
        animation: blink 1s infinite;
      }
      @keyframes blink {
        50% {
          opacity: 0;
        }
      }

      /* LAYOUT GRID */
      .portal-grid {
        display: grid;
        grid-template-columns: 1fr 1fr 300px; /* Column 1 & 2 are now equal */
        gap: 25px;
        padding: 30px 5%;
      }
      .card {
        background: white;
        border: none !important; /* Remove flat borders */
        border-radius: 15px !important;
        overflow: hidden;
        /* This shadow creates the physical depth */
        box-shadow: 0 10px 20px rgba(0, 0, 0, 0.1), 0 6px 6px rgba(0, 0, 0, 0.1);
        transition: all 0.4s cubic-bezier(0.165, 0.84, 0.44, 1);
      }

      /* Card Lift on Hover */
      .card:hover {
        transform: translateY(-10px); /* Moves card toward user */
        box-shadow: 0 15px 35px rgba(0, 0, 0, 0.2); /* Deepens shadow as it lifts */
      }

      .card-header {
        background: linear-gradient(135deg, var(--primary), #003a7a) !important;
        color: white;
        padding: 15px;
        font-weight: bold;
        text-transform: uppercase;
        font-size: 0.9rem;
        text-align: center;
        text-shadow: 0 2px 4px rgba(0, 0, 0, 0.3); /* Makes text pop */
        border-bottom: 3px solid var(--secondary);
      }

      /* EVENTS & FOOTER */
      .events-grid {
        display: grid;
        grid-template-columns: repeat(auto-fit, minmax(280px, 1fr));
        gap: 20px;
        padding: 0 5%;
      }
      .event-card {
        background: white;
        border: 1px solid #ddd;
        padding: 10px;
        text-align: center;
        box-shadow: 0 2px 5px rgba(0, 0, 0, 0.05);
      }
      .event-card img {
        width: 100%;
        height: 200px;
        object-fit: cover;
      }
      .main-footer {
        background: var(--primary);
        color: white;
        padding: 50px 5% 20px;
        margin-top: 60px;
      }
      .footer-grid {
        display: grid;
        grid-template-columns: 1.2fr 1fr;
        gap: 50px;
      }
      .footer-info h3 {
        color: var(--secondary);
        margin-bottom: 25px;
      }
      .social-links a {
        color: white;
        font-size: 1.6rem;
        margin-right: 15px;
        transition: 0.3s;
      }
      .social-links a:hover {
        color: var(--secondary);
      }

      /* MOBILE VIEW */
      @media (max-width: 900px) {
        .menu-toggle {
          display: block;
        }
        .nav-links {
          display: none;
          flex-direction: column;
          width: 100%;
          background: var(--primary);
          position: absolute;
          top: 100%;
          left: 0;
          border-top: 1px solid rgba(255, 255, 255, 0.1);
        }
        .nav-links.active {
          display: flex;
        }
        .dropdown-content {
          position: static;
          box-shadow: none;
          background: #003a7a;
          padding-left: 20px;
        }
        .dropdown-content a {
          color: #fff !important;
        }
        .portal-grid {
          display: grid;
          grid-template-columns: 1fr 1fr 300px;
          gap: 30px; /* Increased gap to let shadows breathe */
          padding: 40px 5%;
        }
        .footer-grid {
          grid-template-columns: 1fr;
        }
        .main-carousel {
          height: 250px;
        }
        .swiper-pagination-bullet {
          background: #fff !important;
          opacity: 0.7;
          filter: drop-shadow(0 2px 4px rgba(0, 0, 0, 0.5));
        }

        .swiper-pagination-bullet-active {
          background: var(--secondary) !important;
          width: 25px !important; /* Elongated active dot */
          border-radius: 5px !important;
        }

        .principal-box {
          width: 100%;
          max-width: 240px;
          height: 280px;
          margin: 10px auto 15px;
          border: 5px solid #fff;
          border-radius: 12px;
          box-shadow: 0 4px 10px rgba(0, 0, 0, 0.1);
          overflow: hidden;
          background: #f9f9f9;
        }

        #principal-photo {
          width: 100%;
          height: 300px; /* Fixed height for a uniform look */
          object-fit: cover; /* Crops the photo to fit the box without stretching */
          display: block;
        }

        #icon-grid a {
          background: #fff !important;
          border-radius: 12px !important;
          padding: 15px 5px !important;
          box-shadow: 0 4px 8px rgba(0, 0, 0, 0.1) !important;
          border: 1px solid #eee !important;
          transition: all 0.3s cubic-bezier(0.175, 0.885, 0.32, 1.275) !important;
          text-decoration: none !important;
          display: flex !important;
          flex-direction: column !important;
          align-items: center !important;
          justify-content: center !important;
        }

        #icon-grid a:hover {
          background: var(--secondary) !important;
          transform: scale(1.1) translateY(-8px) !important; /* Higher pop */
          box-shadow: 0 15px 30px rgba(0, 0, 0, 0.2) !important;
        }

        /* This forces the Icon and Text inside to turn white on hover */
        #icon-grid a:hover,
        #icon-grid a:hover i,
        #icon-grid a:hover span {
          color: #fff !important;
        }

        #icon-grid a i {
          font-size: 1.8rem !important;
          margin-bottom: 8px !important;
          color: var(--primary); /* Original icon color */
          transition: color 0.3s ease !important;
        }
      }
    </style>
  </head>
  <body>
    <header class="top-header">
      <div class="logo-box">
        <img
          src="assets/photos/logo.png"
          onerror="this.src='https://via.placeholder.com/80'"
        />
      </div>
      <div class="title-box">
        <h1 id="college-name">Loading...</h1>
        <p>Affiliated to University of Rajasthan</p>
      </div>
    </header>

    <nav>
      <div class="menu-toggle" onclick="toggleMenu()">
        <i class="fas fa-bars"></i> MENU
      </div>
      <ul class="nav-links" id="main-menu"></ul>
    </nav>

    <div class="ticker-wrap"><div class="ticker" id="top-ticker"></div></div>

    <div class="swiper main-carousel">
      <div class="swiper-wrapper" id="carousel-images"></div>
      <div class="swiper-pagination"></div>
    </div>

    <main class="portal-grid">
      <aside class="card">
        <div class="card-header">Principal's Desk</div>
        <div style="padding: 15px; text-align: center">
          <div class="principal-box">
            <img
              id="principal-photo"
              src="assets/photos/principal/principal.png"
              onerror="this.src='https://via.placeholder.com/250x300'"
            />
          </div>
          <p style="font-size: 0.9rem; font-weight: bold; margin: 5px 0">
            Dr. R.K. Gurjar
          </p>
          <p style="font-size: 0.85rem; line-height: 1.5; text-align: left">
            Welcome to Amer Maharaja P.G. College, an institution dedicated to
            academic excellence and the holistic development of our students. As
            we navigate the academic session of 2026, our commitment to
            nurturing responsible global citizens remains stronger than ever. We
            believe that education is not merely the acquisition of knowledge
            but a journey of self-discovery and empowerment.
          </p>
          <a
            href="content.html?id=principal"
            style="
              color: var(--tickerBg);
              font-weight: bold;
              text-decoration: none;
            "
            >Read More...</a
          >
        </div>
      </aside>

      <section class="card">
        <div class="card-header">Latest Announcements</div>
        <div class="notice-container">
          <div class="notice-scroll" id="notice-board-list"></div>
        </div>
      </section>

      <aside class="card">
        <div class="card-header">Quick Connect</div>
        <div
          id="icon-grid"
          style="
            display: grid;
            grid-template-columns: repeat(3, 1fr);
            gap: 15px;
            padding: 20px;
            text-align: center;
          "
        ></div>
      </aside>
    </main>

    <h2 style="text-align: center; color: var(--primary); margin: 40px 0 20px">
      Events & Media
    </h2>
    <div class="events-grid" id="events-container"></div>

    <footer class="main-footer">
      <div class="footer-grid">
        <div class="footer-info">
          <h3 id="footer-name"></h3>
          <p>
            <i
              class="fas fa-map-marker-alt"
              style="color: var(--secondary); width: 25px"
            ></i>
            <span id="footer-addr"></span>
          </p>
          <p>
            <i
              class="fas fa-phone"
              style="color: var(--secondary); width: 25px"
            ></i>
            <span id="footer-contact"></span>
          </p>
          <div class="social-links" id="social-icons"></div>
        </div>
        <div>
          <iframe
            id="footer-map"
            width="100%"
            height="250"
            style="border: 0; border-radius: 10px"
            allowfullscreen=""
            loading="lazy"
          ></iframe>
        </div>
      </div>
      <p
        style="
          text-align: center;
          border-top: 1px solid rgba(255, 255, 255, 0.1);
          margin-top: 40px;
          padding-top: 20px;
          font-size: 0.8rem;
          opacity: 0.8;
        "
      >
        Â© 2026 Amer Maharaja P.G. College. All Rights Reserved.
      </p>
    </footer>

    <script src="https://cdn.jsdelivr.net/npm/swiper@11/swiper-bundle.min.js"></script>
    <script>
      function toggleMenu() {
        document.querySelector(".nav-links").classList.toggle("active");
      }

      async function init() {
        try {
          const [settings, social, notices, links] = await Promise.all([
            fetch("config/settings.json").then((r) => r.json()),
            fetch("config/social.json").then((r) => r.json()),
            fetch("config/notices.json").then((r) => r.json()),
            fetch("config/links.json").then((r) => r.json()),
          ]);

          // Branding & Theme
          document.getElementById("college-name").innerText =
            settings.collegeName;
          document.getElementById("footer-name").innerText =
            settings.collegeName;
          document.getElementById("footer-addr").innerText = settings.address;
          document.getElementById(
            "footer-contact"
          ).innerText = `${settings.phone} | ${settings.email}`;
          document.getElementById("footer-map").src = settings.mapEmbed;
          document.getElementById(
            "dynamic-theme"
          ).innerHTML = `:root { --primary: ${settings.theme.primary}; --secondary: ${settings.theme.secondary}; --tickerBg: ${settings.theme.tickerBg}; }`;

          // Notices (isNew Logic)
          const tickerText = notices
            .filter((n) => n.isNew)
            .map((n) => n.text)
            .join(" | ");
          document.getElementById("top-ticker").innerText =
            tickerText || "Welcome to Amer Maharaja P.G. College";

          const board = document.getElementById("notice-board-list");
          notices.forEach((n) => {
            board.innerHTML += `<div style="padding:15px; border-bottom:1px solid #eee; font-size:0.9rem;">
                        <i class="fas fa-caret-right" style="color:var(--tickerBg)"></i> ${
                          n.text
                        } ${n.isNew ? '<span class="new-badge">NEW</span>' : ""}
                    </div>`;
          });

          // Navigation
          const menu = document.getElementById("main-menu");
          settings.navigation.forEach((item) => {
            if (item.children) {
              menu.innerHTML += `<li class="has-children">
                            <a href="${item.url}">${
                item.name
              } <i class="fa fa-caret-down" style="font-size:0.7rem"></i></a>
                            <div class="dropdown-content">${item.children
                              .map((c) => `<a href="${c.url}">${c.name}</a>`)
                              .join("")}</div>
                        </li>`;
            } else {
              menu.innerHTML += `<li><a href="${item.url}">${item.name}</a></li>`;
            }
          });

          // Social & Quick Connect
          const socialIcons = {
            facebook: "fab fa-facebook",
            instagram: "fab fa-instagram",
            youtube: "fab fa-youtube",
          };
          Object.keys(social).forEach((k) => {
            if (social[k])
              document.getElementById(
                "social-icons"
              ).innerHTML += `<a href="${social[k]}" target="_blank"><i class="${socialIcons[k]}"></i></a>`;
          });
          links.forEach((l) => {
            document.getElementById(
              "icon-grid"
            ).innerHTML += `<a href="${l.url}" style="text-decoration:none; color:var(--primary); font-size:0.75rem;"><i class="${l.icon}" style="display:block; font-size:1.6rem; margin-bottom:8px; color:var(--primary);"></i>${l.name}</a>`;
          });

          // Carousel & Events
          const photos = [
            "assets/photos/campus/campus-1.jpg",
            "assets/photos/campus/campus-2.jpg",
            "assets/photos/campus/campus-3.jpg",
            "assets/photos/campus/campus-4.jpg",
            "assets/photos/campus/campus-5.jpg",
            "assets/photos/campus/campus-6.jpg",
            "assets/photos/campus/campus-7.jpg",
          ];
          document.getElementById("carousel-images").innerHTML = photos
            .map((p) => `<div class="swiper-slide"><img src="${p}"></div>`)
            .join("");
          new Swiper(".main-carousel", {
            loop: true,
            autoplay: { delay: 4000 },
            pagination: { el: ".swiper-pagination", clickable: true },
          });

          const events = [
            {
              t: "Independence Day Celebration",
              i: "https://images.unsplash.com/photo-1532375810709-75b1da00537c?w=500",
            },
            {
              t: "National Seminar on Science",
              i: "https://images.unsplash.com/photo-1524178232363-1fb2b075b655?w=500",
            },
            {
              t: "Annual Sports Meet 2025",
              i: "https://images.unsplash.com/photo-1526676023771-1be0044505f3?w=500",
            },
          ];
          events.forEach((e) => {
            document.getElementById(
              "events-container"
            ).innerHTML += `<div class="event-card"><img src="${e.i}"><p>${e.t}</p></div>`;
          });
        } catch (e) {
          console.error("Initialization failed:", e);
        }
      }
      init();
    </script>
  </body>
</html>
